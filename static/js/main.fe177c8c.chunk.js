(this.webpackJsonparsha=this.webpackJsonparsha||[]).push([[0],{127:function(e,t,n){},128:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(41),s=n.n(c),i=(n(127),n(9)),o=n(16),u=n(0),l=n.n(u),b=n(3),d=(n(128),n(54)),j=n(107),p=n(23),h=n(89),f=n.n(h),O=(Object(j.a)({apiKey:"AIzaSyAhRNSY_EHv5WVbTnsIHSDrSx4e1wuWvCk",authDomain:"arsha-f0ad3.firebaseapp.com",projectId:"arsha-f0ad3",storageBucket:"arsha-f0ad3.appspot.com",messagingSenderId:"1056899158188",appId:"1:1056899158188:web:afca79a8288fc894bf0f09",measurementId:"G-XRWLMR7FLL"}),Object(d.b)()),x=new d.a,v=Object(p.e)();function m(){return(m=Object(b.a)(l.a.mark((function e(t,n,r,a,c){var s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.replace(" ","_"),n.replace(" ","_"),s=O.currentUser.uid,i=Object(p.b)(Object(p.a)(Object(p.b)(Object(p.a)(v,"users"),s),"reviews"),f()(t+"-"+n).toLowerCase()),e.next=6,I();case 6:return e.t0=e.sent,e.t1=s,e.t2=t,e.t3=n,e.t4=r,e.t5=a,e.t6=c,e.t7=new Date,e.t8=f()(t+"-"+n).toLowerCase(),o={userNum:e.t0,userID:e.t1,title:e.t2,creator:e.t3,rating:e.t4,medium:e.t5,reviewer:e.t6,creationDate:e.t7,slug:e.t8},e.next=18,Object(p.f)(i,o);case 18:return e.next=20,L();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(b.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.a)(Object(p.b)(Object(p.a)(v,"users"),t),"reviews"),e.next=3,Object(p.d)(n);case 3:return r=e.sent,a=[],r.forEach((function(e){a.push(e.data())})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return S.apply(this,arguments)}function S(){return(S=Object(b.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O.currentUser.uid,n=Object(p.a)(Object(p.b)(Object(p.a)(v,"users"),t),"friends"),r=[],e.next=5,Object(p.d)(n);case 5:return e.sent.forEach((function(e){r.push(e.id)})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return N.apply(this,arguments)}function N(){return(N=Object(b.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.b)(Object(p.a)(v,"users"),"info"),e.next=3,Object(p.c)(t);case 3:return(n=e.sent).exists()||console.log("No info document!"),e.abrupt("return",n.data().counter);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return R.apply(this,arguments)}function R(){return(R=Object(b.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.b)(Object(p.a)(v,"users"),"info"),e.next=3,Object(p.c)(t);case 3:(n=e.sent).exists()||console.log("No info document!"),Object(p.f)(t,{counter:n.data().counter++});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=Object(b.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=O.currentUser.uid,!(t>15&&t<40)){e.next=21;break}if(t===n){e.next=18;break}return console.log(t),e.next=6,Object(p.c)(Object(p.b)(Object(p.a)(v,"users"),t));case 6:if(r=e.sent,console.log(r),!r){e.next=15;break}return a=Object(p.b)(Object(p.a)(v,"users"),n),c=Object(p.b)(Object(p.a)(a,"friends"),t),Object(p.f)(c,{friendID:t}),e.abrupt("return","Friend added!");case 15:return e.abrupt("return","No user with that user id");case 16:e.next=19;break;case 18:return e.abrupt("return","You cannot add yourself");case 19:e.next=22;break;case 21:return e.abrupt("return","Invalid ID");case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=n(109),B=n.n(U),E=(n(134),n(210)),F=n(212),H=n(213),M=n(120),W=n(214),z=n(215),_=n(209),G=n(208),T=n(216),J=n(46),Y=n(15),K=E.a.Search,P=F.a.Header,V=F.a.Content,X=Object(J.a)("#1890ff",{theme:"dark",backgroundColor:"#141414"});function q(){return(q=Object(b.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.t0=window,e.next=4,A(n);case 4:e.t1=e.sent,e.t0.alert.call(e.t0,e.t1),e.next=9;break;case 8:window.alert("Need to be logged in to add a friend");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(b.a)(l.a.mark((function e(){var t,n,r,a,c,s,o,u,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,C();case 3:(n=e.sent).push(O.currentUser.uid),r=Object(i.a)(n),e.prev=6,r.s();case 8:if((a=r.n()).done){e.next=17;break}return c=a.value,e.next=12,y(c);case 12:s=e.sent,o=Object(i.a)(s);try{for(o.s();!(u=o.n()).done;)b=u.value,t.push(b)}catch(l){o.e(l)}finally{o.f()}case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),r.e(e.t0);case 22:return e.prev=22,r.f(),e.finish(22);case 25:return e.abrupt("return",t);case 26:case"end":return e.stop()}}),e,null,[[6,19,22,25]])})))).apply(this,arguments)}var Z=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(o.a)(c,2),i=s[0],u=s[1],j=Object(r.useState)(""),p=Object(o.a)(j,2),h=p[0],f=p[1],v=Object(r.useState)(9.15),g=Object(o.a)(v,2),y=g[0],k=g[1],C=Object(r.useState)("Album"),S=Object(o.a)(C,2),I=S[0],N=S[1],L=Object(r.useState)([]),R=Object(o.a)(L,2),A=R[0],D=R[1],U=Object(r.useState)(""),J=Object(o.a)(U,2),Z=J[0],$=J[1],ee=Object(r.useState)(""),te=Object(o.a)(ee,2),ne=te[0],re=te[1];Object(r.useEffect)((function(){n&&function(){return Q.apply(this,arguments)}().then((function(e){console.log(e),D(e)}))}),[n,ne]);var ae={backgroundColor:X[0],color:X[9]},ce={backgroundColor:X[2],color:X[1],padding:15},se={borderRadius:5,width:200,margin:"3px"},ie={width:"50%",margin:"auto"},oe={borderRadius:10,padding:25,backgroundColor:X[1],marginBottom:15},ue={color:X[1],backgroundColor:"#ffe818",marginBottom:15},le={borderRadius:10,backgroundColor:X[2],border:"2px solid"+X[0]},be={backgroundColor:X[0]};return Object(Y.jsx)("div",{className:"App",children:Object(Y.jsxs)(F.a,{style:{minHeight:"100vh"},children:[Object(Y.jsx)(P,{style:ae,children:Object(Y.jsx)("h1",{children:"Arsha"})}),Object(Y.jsx)(F.a,{children:Object(Y.jsxs)(V,{style:ce,children:[n?Object(Y.jsxs)("div",{children:[Object(Y.jsx)("p",{style:{color:X[0]},children:Object(Y.jsxs)("strong",{children:[Object(Y.jsx)(H.a,{size:32,icon:Object(Y.jsx)(T.a,{})}),O.currentUser.displayName," - ",O.currentUser.uid]})}),Object(Y.jsx)(M.a,{style:be,onClick:function(){return function(e){Object(d.f)(O).then((function(){e(!1)})).catch((function(e){window.alert("Could not sign out. We apologize")}))}(a)},children:"Sign out"})]}):Object(Y.jsx)("div",{children:Object(Y.jsx)(B.a,{id:"google-signin",onClick:function(){return function(e){Object(d.d)(O,d.c).then(Object(b.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d.e)(O,x);case 3:n=t.sent,e(!0),null!==n._tokenResponse.isNewUser&&w(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),window.alert("Could not sign in. We apologize");case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))))}(a)}})}),Object(Y.jsxs)(W.a,{children:[Object(Y.jsx)(z.a,{xs:{span:24},lg:{span:12},style:oe,children:Object(Y.jsxs)("div",{className:"mainContent",children:[Object(Y.jsx)("div",{id:"reviewImageContainer"}),Object(Y.jsxs)("div",{id:"reviewTextContainer",children:[Object(Y.jsx)("h4",{children:"Medium"}),Object(Y.jsxs)("select",{name:"mediums",id:"mediums",value:I,onChange:function(e){N(e.target.value)},children:[Object(Y.jsx)("option",{value:"Album",children:"Album"}),Object(Y.jsx)("option",{value:"Game",children:"Game"}),Object(Y.jsx)("option",{value:"Movie",children:"Movie"})]}),Object(Y.jsx)("h4",{children:"Title"}),Object(Y.jsx)(E.a,{style:se,type:"text",id:"title",name:"title",placeholder:"Blonde",value:i,onChange:function(e){u(e.target.value)}}),Object(Y.jsx)("h4",{children:"Creator"}),Object(Y.jsx)(E.a,{style:se,type:"text",id:"creator",name:"creator",placeholder:"Frank Ocean",value:h,onChange:function(e){f(e.target.value)}}),Object(Y.jsx)("h4",{children:"Rating"}),Object(Y.jsx)(E.a,{style:se,type:"number",id:"rating",name:"rating",placeholder:"9.15",min:1,max:10,value:y,onChange:function(e){return k(e.target.value)}}),Object(Y.jsx)(_.a,{style:ie,min:1,max:10,step:.01,value:y,onChange:function(e){return k(e)}}),Object(Y.jsx)("div",{id:"reviewBottom",children:Object(Y.jsx)(M.a,{style:ue,type:"submit",id:"submit-button",onClick:function(){n?""!==i&""!==h&""!==y?i.length<250&&h.length<250&&y<10&&y>1?(!function(e,t,n,r,a){m.apply(this,arguments)}(i,h,y,I,O.currentUser.displayName),u(""),f(""),k(0),window.alert("Review Submitted!")):window.alert("Invalid entries (title and creator below 250 characters, and rating between 1 and 10)"):window.alert("Fill out all information before submitting"):window.alert("Not logged in. Please sign in to submit a review")},children:"Submit Review!"})})]})]})}),Object(Y.jsx)(z.a,{xs:{span:24},lg:{span:12},style:oe,children:Object(Y.jsxs)("div",{children:[Object(Y.jsxs)(W.a,{children:[Object(Y.jsx)(z.a,{xs:{span:24},lg:{span:12},children:Object(Y.jsx)(K,{placeholder:"Add friend by ID",onSearch:function(e){$(e),""!==Z&&function(e,t){q.apply(this,arguments)}(n,Z)},style:se})}),Object(Y.jsx)(z.a,{xs:{span:24},lg:{span:12},children:Object(Y.jsx)(K,{placeholder:"Enter medium, title, creator",onSearch:function(e){return re(e)},style:se})})]}),Object(Y.jsx)("div",{id:"review-col",style:{maxHeight:"100%",overflow:"auto"},children:A.filter((function(e){if(""===ne||e.title.toLowerCase().includes(ne.toLowerCase())||e.reviewer.toLowerCase().includes(ne.toLowerCase())||e.creator.toLowerCase().includes(ne.toLowerCase()))return e})).map((function(e,t){return Object(Y.jsxs)("div",{className:"review-box",style:le,children:[Object(Y.jsxs)("h3",{className:"legend",children:[e.title," - ",e.rating]},t),Object(Y.jsxs)("p",{children:[e.reviewer," - ",e.creator," -"," ",e.medium]}),Object(Y.jsx)(G.a,{style:ie,percent:(10*e.rating).toFixed(1)})]},t)}))})]})})]})]})})]})})};s.a.render(Object(Y.jsx)(a.a.StrictMode,{children:Object(Y.jsx)(Z,{})}),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.fe177c8c.chunk.js.map